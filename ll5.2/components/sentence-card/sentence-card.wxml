<!--components/sentence-card/sentence-card.wxml-->
<view class="sentence-card">
  
  <!-- å¤´éƒ¨: æ ‡ç­¾ + æ”¶è— -->
  <view class="card-header">
    <view class="tags">
      <text class="tier-tag tier-{{sentence.tier}}">
        {{tierName}}
      </text>
      <text class="difficulty-tag">
        {{difficultyStars}}
      </text>
      <text 
        wx:for="{{displayTags}}" 
        wx:key="*this" 
        class="custom-tag"
      >
        {{item}}
      </text>
    </view>
    <view class="favorite-btn" bindtap="onFavorite">
      <text class="fav-icon">{{isFavorite ? 'â­' : 'â˜†'}}</text>
    </view>
  </view>
  
  <!-- å¥å­å†…å®¹ -->
  <view class="card-body">
    <text class="english-text">{{sentence.english}}</text>
    <text class="chinese-text">{{sentence.chinese}}</text>
    
    <!-- å ä½ç¬¦æç¤º -->
    <view wx:if="{{sentence.placeholders.length > 0}}" class="placeholders">
      <text class="ph-label">æ›¿æ¢è¯:</text>
      <view class="ph-list">
        <text 
          wx:for="{{sentence.placeholders}}" 
          wx:key="key"
          class="ph-item"
        >
          {{item.key}} = {{item.description}}
        </text>
      </view>
    </view>
  </view>
  
  <!-- å…ƒä¿¡æ¯ -->
  <view class="card-meta">
    <view class="meta-item">
      <text class="meta-icon">ğŸ“Š</text>
      <text class="meta-text">{{usageCountText}}</text>
    </view>
    <view class="meta-item">
      <text class="meta-icon">âœ…</text>
      <text class="meta-text">æˆåŠŸç‡{{successRateText}}%</text>
    </view>
    <view class="meta-item">
      <text class="meta-icon">{{categoryIcon}}</text>
      <text class="meta-text">{{categoryName}}</text>
    </view>
  </view>
  
  <!-- æ“ä½œæŒ‰é’® -->
  <view class="card-actions">
    <button class="action-btn secondary" bindtap="onDetail">
      <text class="btn-text">è¯¦æƒ… ({{sentence.variants.length}}å˜ä½“)</text>
    </button>
    <button class="action-btn primary" bindtap="onInsert">
      <text class="btn-text">æ’å…¥</text>
    </button>
  </view>
  
</view>

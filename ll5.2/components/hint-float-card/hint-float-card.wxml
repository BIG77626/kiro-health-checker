<!-- çŸ­é“¾æ€è€ƒ - æµ®çª—å¡ç‰‡ -->
<view class="hint-float-wrapper {{expanded ? 'expanded' : ''}}">
  
  <!-- å¡ç‰‡ï¼ˆå±•å¼€æ—¶æ˜¾ç¤ºï¼Œåœ¨å›¾æ ‡å·¦ä¾§ï¼‰ -->
  <view 
    wx:if="{{expanded && currentStep >= 1}}" 
    class="hint-card hint-card-step{{currentStep}}"
    catchtouchmove="preventMove"
    catchtap="stopPropagation">
    
    <!-- Step1: ä¸€è¡Œèšç„¦ï¼ˆå§‹ç»ˆæ˜¾ç¤ºï¼‰ -->
    <view class="card-step step1">
      <view class="step-header">
        <text class="step-tag">ğŸ’¡</text>
        <text class="step-title">èšç„¦æç¤º</text>
        <text class="step-close" bindtap="onCollapse">âœ•</text>
      </view>
      <view class="step-content">
        <rich-text nodes="{{highlightedMessage}}" class="step-text"></rich-text>
      </view>
      <view class="step-footer" wx:if="{{currentStep === 1}}">
        <text class="more-btn" bindtap="onExpandMore">æŸ¥çœ‹è¯¦ç»†æç¤º â–¼</text>
      </view>
    </view>
    
    <!-- Step2: æ€ç»´æ”¯æ¶ï¼ˆcurrentStep >= 2æ—¶æ‰æ˜¾ç¤ºï¼Œåªæ˜¾ç¤ºå‰2æ¡ï¼‰ -->
    <view class="card-step step2" wx:if="{{currentStep >= 2}}">
      <view class="step-divider"></view>
      <view class="step-header">
        <text class="step-tag">ğŸ“</text>
        <text class="step-title">æ€ç»´æ”¯æ¶</text>
      </view>
      <view class="step-content">
        <view class="scaffold-list">
          <view class="scaffold-item" wx:for="{{points}}" wx:key="index" wx:if="{{index < 2}}">
            <text class="scaffold-dot">{{index + 1}}.</text>
            <text class="scaffold-text">{{item}}</text>
          </view>
        </view>
      </view>
      <view class="step-footer" wx:if="{{currentStep === 2}}">
        <text class="more-btn" bindtap="onExpandMore">æŸ¥çœ‹å®Œæ•´æç¤º â–¼</text>
      </view>
    </view>
    
    <!-- Step3é¢å¤–éƒ¨åˆ†: ç¬¬3æ¡æ€ç»´æ”¯æ¶ï¼ˆcurrentStep === 3æ—¶æ‰æ˜¾ç¤ºï¼‰ -->
    <view class="card-step step2-extra" wx:if="{{currentStep === 3}}">
      <view class="step-content">
        <view class="scaffold-list">
          <view class="scaffold-item" wx:for="{{points}}" wx:key="index" wx:if="{{index >= 2}}">
            <text class="scaffold-dot">{{index + 1}}.</text>
            <text class="scaffold-text">{{item}}</text>
          </view>
        </view>
      </view>
    </view>
    
    <!-- Step3: å®Œæ•´æç¤ºï¼ˆcurrentStep === 3æ—¶æ‰æ˜¾ç¤ºï¼‰ -->
    <view class="card-step step3" wx:if="{{currentStep === 3}}">
      <view class="step-divider"></view>
      <view class="step-header">
        <text class="step-tag">âœ…</text>
        <text class="step-title">å®Œæ•´æç¤º</text>
      </view>
      <view class="step-content">
        <view class="complete-tips">
          <text class="tips-text">å·²å±•ç¤ºå…¨éƒ¨å†…å®¹</text>
        </view>
      </view>
    </view>
    
  </view>
  
  <!-- å›¾æ ‡ï¼ˆå§‹ç»ˆæ˜¾ç¤ºï¼‰ -->
  <view 
    class="hint-icon {{autoShow ? 'hint-icon-pulse' : ''}}"
    bindtap="onToggle"
    catchtouchmove="preventMove">
    <text class="icon-emoji">ğŸ’¡</text>
    <view class="icon-badge" wx:if="{{showBadge}}">!</view>
  </view>
  
</view>


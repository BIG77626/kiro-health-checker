<!-- pages/test-result/test-result.wxml -->
<view class="result-container {{themeClass}}">

  <!-- æˆç»©å¡ç‰‡ -->
  <view class="score-card">
    <view class="score-icon {{scoreLevel}}">
      <text wx:if="{{scoreLevel === 'excellent'}}">ğŸ†</text>
      <text wx:elif="{{scoreLevel === 'good'}}">ğŸŒŸ</text>
      <text wx:elif="{{scoreLevel === 'pass'}}">ğŸ‘</text>
      <text wx:else>ğŸ’ª</text>
    </view>
    
    <text class="score-title">{{scoreTitle}}</text>
    <text class="score-subtitle">{{scoreSubtitle}}</text>
    
    <view class="score-number">
      <text class="score-value">{{accuracy}}</text>
      <text class="score-unit">åˆ†</text>
    </view>
  </view>

  <!-- ç»Ÿè®¡æ•°æ® -->
  <view class="stats-card">
    <view class="stat-item">
      <text class="stat-label">æ­£ç¡®ç‡</text>
      <text class="stat-value">{{accuracy}}%</text>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <text class="stat-label">æ­£ç¡®é¢˜æ•°</text>
      <text class="stat-value">{{correctCount}}/{{totalQuestions}}</text>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <text class="stat-label">ç”¨æ—¶</text>
      <text class="stat-value">{{timeSpentDisplay}}</text>
    </view>
  </view>

  <!-- AIè¯„ä»· -->
  <view class="ai-evaluation">
    <view class="evaluation-header">
      <text class="evaluation-icon">ğŸ’¡</text>
      <text class="evaluation-title">AIè¯„ä»·</text>
    </view>
    <text class="evaluation-content">{{aiEvaluation}}</text>
  </view>

  <!-- å»ºè®® -->
  <view wx:if="{{suggestions.length > 0}}" class="suggestions">
    <text class="suggestions-title">æå‡å»ºè®®</text>
    <view wx:for="{{suggestions}}" wx:key="index" class="suggestion-item">
      <text class="suggestion-dot">â€¢</text>
      <text class="suggestion-text">{{item}}</text>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="result-actions">
    <button class="btn-primary" bindtap="reviewWrong">
      æŸ¥çœ‹é”™é¢˜
    </button>
    <button class="btn-secondary" bindtap="retakeTest">
      å†æµ‹ä¸€æ¬¡
    </button>
    <button class="btn-text" bindtap="backToHome">
      è¿”å›é¦–é¡µ
    </button>
  </view>

</view>


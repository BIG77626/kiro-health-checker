/* pages/wrong-questions-list/wrong-questions-list.wxss - 参考图设计 */

/* ==================== 页面容器 ==================== */
.page-container {
  min-height: 100vh;
  background: #F5F7FA;
  padding: 32rpx;
  padding-bottom: 120rpx;
}

/* ==================== ① 顶部标题卡片（参考图） ==================== */
.title-card-ref {
  display: flex;
  align-items: center;
  gap: 24rpx;
  margin-bottom: 32rpx;
}

.title-icon-bg-ref {
  width: 112rpx;
  height: 112rpx;
  background: linear-gradient(135deg, #FF6B9D 0%, #FF8FAB 100%);
  border-radius: 24rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.title-icon-ref {
  width: 56rpx;
  height: 56rpx;
  filter: brightness(0) invert(1);
}

.title-content-ref {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 8rpx;
}

.title-main-ref {
  font-size: 44rpx;
  font-weight: 700;
  color: #1F2937;
  line-height: 1.2;
}

.title-desc-ref {
  font-size: 26rpx;
  font-weight: 400;
  color: #9CA3AF;
  line-height: 1.4;
}

/* ==================== ⭐ Tab切换栏 ==================== */
.tab-bar {
  display: flex;
  align-items: center;
  background: #FFFFFF;
  border-radius: 16rpx;
  padding: 8rpx;
  margin-bottom: 32rpx;
  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);
}

.tab-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 16rpx 8rpx;
  border-radius: 12rpx;
  transition: all 0.3s ease;
  cursor: pointer;
}

.tab-item.tab-active {
  background: linear-gradient(135deg, #4F7FE8 0%, #7AA0FF 100%);
  box-shadow: 0 4rpx 12rpx rgba(79, 127, 232, 0.3);
}

.tab-text {
  font-size: 28rpx;
  font-weight: 600;
  color: #6B7280;
  line-height: 1.4;
  margin-bottom: 4rpx;
}

.tab-item.tab-active .tab-text {
  color: #FFFFFF;
}

.tab-count {
  font-size: 24rpx;
  font-weight: 400;
  color: #9CA3AF;
  line-height: 1.2;
}

.tab-item.tab-active .tab-count {
  color: rgba(255, 255, 255, 0.9);
}

/* ==================== ② 统计卡片（参考图 - 全白色） ==================== */
.stats-grid-ref {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16rpx;
  margin-bottom: 32rpx;
}

.stat-card-ref {
  background: #FFFFFF; /* ⭐ 统一白色背景 */
  border-radius: 20rpx;
  padding: 32rpx 20rpx;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12rpx;
  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);
}

.stat-icon-circle-ref {
  width: 88rpx;
  height: 88rpx;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #F5F7FA; /* ⭐ 统一浅灰色图标背景 */
}

/* 移除彩色背景 */
.stat-icon-red-bg,
.stat-icon-orange-bg,
.stat-icon-green-bg {
  background: #F5F7FA; /* ⭐ 全部使用浅灰色 */
}

.stat-icon-img-ref {
  width: 40rpx;
  height: 40rpx;
}

.stat-number-ref {
  font-size: 56rpx;
  font-weight: 700;
  color: #1F2937;
  line-height: 1;
}

.stat-name-ref {
  font-size: 24rpx;
  font-weight: 400;
  color: #6B7280;
  line-height: 1.4;
}

/* ==================== ③ 错题分布（参考图） ==================== */
.distribution-card-ref {
  background: #FFFFFF;
  border-radius: 24rpx;
  padding: 32rpx;
  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);
}

.dist-header-ref {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24rpx;
}

.dist-title-ref {
  font-size: 32rpx;
  font-weight: 700;
  color: #1F2937;
  line-height: 1.2;
}

.dist-action-ref {
  font-size: 24rpx;
  font-weight: 400;
  color: #9CA3AF;
  line-height: 1.4;
}

.dist-list-ref {
  display: flex;
  flex-direction: column;
  gap: 24rpx;
}

.dist-item-ref {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16rpx 0;
}

.dist-left-ref {
  display: flex;
  align-items: center;
  gap: 16rpx;
}

.dist-dot-ref {
  width: 12rpx;
  height: 12rpx;
  border-radius: 50%;
  flex-shrink: 0;
}

.dist-name-ref {
  font-size: 28rpx;
  font-weight: 500;
  color: #374151;
  line-height: 1.4;
}

.dist-count-ref {
  font-size: 28rpx;
  font-weight: 600;
  color: #1F2937;
  line-height: 1.4;
}

/* ==================== 顶部 Header ==================== */
.page-header {
  background: linear-gradient(180deg, #6366F1 0%, #8B5CF6 100%);
  padding: 56rpx 32rpx 40rpx;
  border-radius: 0 0 48rpx 48rpx;
  box-shadow: 0 8rpx 24rpx rgba(99, 102, 241, 0.3);
}

.header-nav {
  display: flex;
  align-items: center;
  gap: 24rpx;
}

.back-btn {
  width: 64rpx;
  height: 64rpx;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.back-btn:active {
  background: rgba(255, 255, 255, 0.3);
  transform: scale(0.95);
}

.back-icon {
  width: 32rpx;
  height: 32rpx;
  filter: brightness(0) invert(1);
}

.header-content {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 24rpx;
}

.header-icon-wrapper {
  width: 80rpx;
  height: 80rpx;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.header-icon {
  width: 40rpx;
  height: 40rpx;
  filter: brightness(0) invert(1);
}

.header-text {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 8rpx;
}

.header-title {
  font-size: 40rpx;
  font-weight: 700;
  color: #FFFFFF;
  line-height: 1.2;
}

.header-subtitle {
  font-size: 24rpx;
  font-weight: 400;
  color: rgba(255, 255, 255, 0.9);
  line-height: 1.4;
}

/* ==================== 主内容区 ==================== */
.main-content {
  padding: 24rpx 32rpx 120rpx;
}

/* ==================== 分布分析卡片 ==================== */
.distribution-card {
  background: #FFFFFF;
  border-radius: 24rpx;
  padding: 32rpx;
  margin-bottom: 24rpx;
  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.06);
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24rpx;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 16rpx;
}

.header-icon-small {
  width: 40rpx;
  height: 40rpx;
}

.card-title {
  font-size: 32rpx;
  font-weight: 700;
  color: #0F172A;
  line-height: 1.2;
}

.total-badge {
  padding: 8rpx 16rpx;
  background: #EBF4FF;
  border-radius: 16rpx;
}

.total-badge text {
  font-size: 24rpx;
  font-weight: 600;
  color: #4F7FE8;
  line-height: 1.2;
}

/* ==================== 分布列表 ==================== */
.distribution-list {
  display: flex;
  flex-direction: column;
  gap: 24rpx;
}

.distribution-item {
  display: flex;
  flex-direction: column;
  gap: 8rpx;
}

.item-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.item-left {
  display: flex;
  align-items: center;
  gap: 12rpx;
}

.type-dot {
  width: 12rpx;
  height: 12rpx;
  border-radius: 50%;
}

.type-dot-reading {
  background: #4F7FE8;
}

.type-dot-cloze {
  background: #8B5CF6;
}

.type-dot-translation {
  background: #10B981;
}

.type-dot-writing {
  background: #F59E0B;
}

.type-name {
  font-size: 28rpx;
  font-weight: 500;
  color: #0F172A;
  line-height: 1.4;
}

.item-right {
  display: flex;
  align-items: center;
  gap: 16rpx;
}

.count-text {
  font-size: 24rpx;
  font-weight: 600;
  color: #6B7280;
  line-height: 1.4;
}

.percentage-text {
  font-size: 28rpx;
  font-weight: 700;
  color: #0F172A;
  line-height: 1.2;
  min-width: 80rpx;
  text-align: right;
}

.progress-bar {
  width: 100%;
  height: 8rpx;
  background: #E5E7EB;
  border-radius: 4rpx;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  border-radius: 4rpx;
  transition: width 0.5s ease;
}

.progress-reading {
  background: linear-gradient(90deg, #4F7FE8 0%, #7AA0FF 100%);
}

.progress-cloze {
  background: linear-gradient(90deg, #8B5CF6 0%, #A78BFA 100%);
}

.progress-translation {
  background: linear-gradient(90deg, #10B981 0%, #34D399 100%);
}

.progress-writing {
  background: linear-gradient(90deg, #F59E0B 0%, #FBBF24 100%);
}

/* ==================== 加载状态 ==================== */
.loading-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 120rpx 48rpx;
}

.loading-spinner {
  width: 64rpx;
  height: 64rpx;
  border: 8rpx solid #E5E7EB;
  border-top-color: #6366F1;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.loading-text {
  margin-top: 24rpx;
  font-size: 28rpx;
  color: #6B7280;
  line-height: 1.4;
}

/* ==================== 空状态 ==================== */
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 120rpx 48rpx;
  text-align: center;
}

.empty-icon-bg {
  width: 160rpx;
  height: 160rpx;
  background: linear-gradient(135deg, #D1FAE5 0%, #A7F3D0 100%);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 32rpx;
  box-shadow: 0 8rpx 24rpx rgba(16, 185, 129, 0.3);
}

.empty-icon {
  width: 80rpx;
  height: 80rpx;
}

.empty-title {
  font-size: 40rpx;
  font-weight: 700;
  color: #0F172A;
  line-height: 1.2;
  margin-bottom: 16rpx;
}

.empty-text {
  font-size: 28rpx;
  color: #6B7280;
  line-height: 1.4;
}

/* ==================== 错题列表 ==================== */
.questions-list {
  display: flex;
  flex-direction: column;
  gap: 24rpx;
}

.question-card {
  background: #FFFFFF;
  border-radius: 24rpx;
  overflow: hidden;
  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.06);
  transition: all 0.3s ease;
}

.question-card:active {
  transform: translateY(-4rpx);
  box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.12);
}

.card-top-bar {
  height: 6rpx;
  width: 100%;
}

.bar-reading {
  background: linear-gradient(90deg, #4F7FE8 0%, #7AA0FF 100%);
}

.bar-cloze {
  background: linear-gradient(90deg, #8B5CF6 0%, #A78BFA 100%);
}

.bar-translation {
  background: linear-gradient(90deg, #10B981 0%, #34D399 100%);
}

.bar-writing {
  background: linear-gradient(90deg, #F59E0B 0%, #FBBF24 100%);
}

.card-content {
  padding: 32rpx;
}

/* ==================== 题目头部 ==================== */
.question-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24rpx;
}

.header-badges {
  display: flex;
  gap: 12rpx;
}

.type-badge {
  padding: 8rpx 16rpx;
  border-radius: 16rpx;
  font-size: 22rpx;
  font-weight: 600;
  line-height: 1.2;
}

.badge-reading {
  background: #DBEAFE;
  color: #1E40AF;
}

.badge-cloze {
  background: #EDE9FE;
  color: #6B21A8;
}

.badge-translation {
  background: #D1FAE5;
  color: #065F46;
}

.badge-writing {
  background: #FEF3C7;
  color: #92400E;
}

.reviewed-badge {
  display: flex;
  align-items: center;
  gap: 6rpx;
  padding: 8rpx 12rpx;
  background: #D1FAE5;
  border-radius: 16rpx;
}

.badge-icon {
  width: 20rpx;
  height: 20rpx;
}

.reviewed-badge text {
  font-size: 22rpx;
  font-weight: 600;
  color: #065F46;
  line-height: 1.2;
}

.question-date {
  display: flex;
  align-items: center;
  gap: 6rpx;
}

.date-icon {
  width: 24rpx;
  height: 24rpx;
  opacity: 0.6;
}

.date-text {
  font-size: 22rpx;
  color: #6B7280;
  line-height: 1.4;
}

/* ==================== 题目内容 ==================== */
.question-content {
  margin-bottom: 24rpx;
}

.content-text {
  font-size: 28rpx;
  font-weight: 400;
  color: #0F172A;
  line-height: 1.8;
  display: block;
}

/* ==================== 答案对比 ==================== */
.answer-compare {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16rpx;
  margin-bottom: 24rpx;
}

.answer-box {
  padding: 24rpx;
  border-radius: 16rpx;
  display: flex;
  flex-direction: column;
  gap: 12rpx;
}

.wrong-answer {
  background: #FEE2E2;
}

.correct-answer {
  background: #D1FAE5;
}

.answer-label {
  display: flex;
  align-items: center;
  gap: 8rpx;
}

.label-icon {
  width: 24rpx;
  height: 24rpx;
}

.label-text {
  font-size: 22rpx;
  font-weight: 600;
  line-height: 1.4;
}

.wrong-answer .label-text {
  color: #991B1B;
}

.correct-answer .label-text {
  color: #065F46;
}

.answer-text {
  font-size: 32rpx;
  font-weight: 700;
  line-height: 1.2;
}

.wrong-answer .answer-text {
  color: #DC2626;
}

.correct-answer .answer-text {
  color: #10B981;
}

/* ==================== 解析区域 ==================== */
.explanation-box {
  padding: 24rpx;
  background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%);
  border-radius: 16rpx;
  margin-bottom: 24rpx;
}

.explanation-header {
  display: flex;
  align-items: center;
  gap: 12rpx;
  margin-bottom: 16rpx;
}

.explanation-icon {
  width: 32rpx;
  height: 32rpx;
}

.explanation-title {
  font-size: 26rpx;
  font-weight: 600;
  color: #78350F;
  line-height: 1.4;
}

.explanation-text {
  font-size: 26rpx;
  font-weight: 400;
  color: #92400E;
  line-height: 1.8;
  display: block;
}

/* ==================== 操作按钮 ==================== */
.question-actions {
  display: flex;
  gap: 16rpx;
}

.action-btn {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8rpx;
  padding: 16rpx 24rpx;
  border-radius: 16rpx;
  font-size: 26rpx;
  font-weight: 600;
  line-height: 1.2;
  transition: all 0.3s ease;
}

.btn-outline {
  background: #F8F9FB;
  color: #6B7280;
  border: 2rpx solid #E5E7EB;
}

.btn-outline:active {
  background: #FFFFFF;
}

.btn-primary {
  background: linear-gradient(135deg, #10B981 0%, #059669 100%);
  color: #FFFFFF;
  box-shadow: 0 4rpx 12rpx rgba(16, 185, 129, 0.3);
}

.btn-primary:active {
  transform: translateY(2rpx);
  box-shadow: 0 2rpx 8rpx rgba(16, 185, 129, 0.4);
}

.btn-icon {
  width: 24rpx;
  height: 24rpx;
  filter: brightness(0) invert(1);
}

/* ==================== 底部安全区 ==================== */
.bottom-spacer {
  height: calc(64rpx + env(safe-area-inset-bottom));
}

/* ==================== 暗色模式 ==================== */
.theme-dark .page-container {
  background: #0B1220;
}

/* ⭐ 暗色模式 - Tab栏 */
.theme-dark .tab-bar {
  background: #1F2937;
}

.theme-dark .tab-text {
  color: #9CA3AF;
}

.theme-dark .tab-count {
  color: #6B7280;
}

.theme-dark .tab-item.tab-active {
  background: linear-gradient(135deg, #7AA0FF 0%, #A8C5FF 100%);
}

.theme-dark .tab-item.tab-active .tab-text {
  color: #0B1220;
}

.theme-dark .tab-item.tab-active .tab-count {
  color: rgba(11, 18, 32, 0.8);
}

.theme-dark .distribution-card,
.theme-dark .question-card {
  background: #111827;
}

.theme-dark .card-content {
  background: #111827;
}

.theme-dark .card-title,
.theme-dark .type-name,
.theme-dark .percentage-text,
.theme-dark .content-text,
.theme-dark .empty-title {
  color: #F8FAFC;
}

.theme-dark .header-subtitle,
.theme-dark .count-text,
.theme-dark .date-text,
.theme-dark .empty-text,
.theme-dark .loading-text {
  color: #94A3B8;
}

.theme-dark .progress-bar {
  background: #374151;
}

.theme-dark .loading-spinner {
  border-color: #374151;
  border-top-color: #8B5CF6;
}
